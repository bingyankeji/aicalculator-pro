# ğŸš€ Calculator Tools éƒ¨ç½²æŒ‡å—

## ğŸ“‹ ç›®å½•
- [é¡¹ç›®æ¦‚è¿°](#é¡¹ç›®æ¦‚è¿°)
- [ç¯å¢ƒè¦æ±‚](#ç¯å¢ƒè¦æ±‚)
- [æœ¬åœ°å¼€å‘éƒ¨ç½²](#æœ¬åœ°å¼€å‘éƒ¨ç½²)
- [ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²](#ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²)
- [Verceléƒ¨ç½²](#verceléƒ¨ç½²)
- [Netlifyéƒ¨ç½²](#netlifyéƒ¨ç½²)
- [Dockeréƒ¨ç½²](#dockeréƒ¨ç½²)
- [ç¯å¢ƒå˜é‡é…ç½®](#ç¯å¢ƒå˜é‡é…ç½®)
- [åŸŸåå’ŒSSLé…ç½®](#åŸŸåå’Œsslé…ç½®)
- [æ€§èƒ½ä¼˜åŒ–](#æ€§èƒ½ä¼˜åŒ–)
- [ç›‘æ§å’Œç»´æŠ¤](#ç›‘æ§å’Œç»´æŠ¤)
- [æ•…éšœæ’é™¤](#æ•…éšœæ’é™¤)

---

## ğŸ“– é¡¹ç›®æ¦‚è¿°

**Calculator Tools** æ˜¯ä¸€ä¸ªåŸºäº Next.js 14 çš„ç°ä»£åŒ–åœ¨çº¿è®¡ç®—å™¨å¹³å°ï¼ŒåŒ…å«68+ä¸ªä¸“ä¸šè®¡ç®—å™¨å·¥å…·ï¼Œæ”¯æŒSEOä¼˜åŒ–ã€å“åº”å¼è®¾è®¡å’Œæ™ºèƒ½åˆ†æåŠŸèƒ½ã€‚

### ğŸ› ï¸ æŠ€æœ¯æ ˆ
- **å‰ç«¯æ¡†æ¶**: Next.js 14 (App Router)
- **å¼€å‘è¯­è¨€**: TypeScript
- **æ ·å¼æ¡†æ¶**: Tailwind CSS
- **UIç»„ä»¶**: Lucide Icons
- **éƒ¨ç½²å¹³å°**: Vercel (æ¨è) / Netlify / Docker

---

## âš™ï¸ ç¯å¢ƒè¦æ±‚

### æœ€ä½è¦æ±‚
- **Node.js**: 18.17.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- **npm**: 9.0.0 æˆ–æ›´é«˜ç‰ˆæœ¬ (æˆ– yarn/pnpm)
- **å†…å­˜**: æœ€å°‘ 2GB RAM
- **å­˜å‚¨**: æœ€å°‘ 1GB å¯ç”¨ç©ºé—´

### æ¨èé…ç½®
- **Node.js**: 20.x LTS
- **npm**: 10.x
- **å†…å­˜**: 4GB+ RAM
- **å­˜å‚¨**: 5GB+ å¯ç”¨ç©ºé—´

### æ£€æŸ¥ç¯å¢ƒ
```bash
node --version  # åº”è¯¥ >= 18.17.0
npm --version   # åº”è¯¥ >= 9.0.0
```

---

## ğŸ’» æœ¬åœ°å¼€å‘éƒ¨ç½²

### 1. å…‹éš†é¡¹ç›®
```bash
git clone <your-repository-url>
cd calculator-tools
```

### 2. å®‰è£…ä¾èµ–
```bash
npm install
# æˆ–
yarn install
# æˆ–
pnpm install
```

### 3. ç¯å¢ƒå˜é‡é…ç½®
åˆ›å»º `.env.local` æ–‡ä»¶ï¼š
```bash
cp .env.example .env.local
```

ç¼–è¾‘ `.env.local`ï¼š
```env
# ç½‘ç«™åŸºç¡€é…ç½®
NEXT_PUBLIC_SITE_URL=http://localhost:3000
NEXT_PUBLIC_SITE_NAME=Calculator Tools

# è´§å¸è½¬æ¢API (å¯é€‰)
EXCHANGE_RATE_API_KEY=your_api_key_here

# åˆ†æå·¥å…· (å¯é€‰)
NEXT_PUBLIC_GA_ID=your_google_analytics_id
NEXT_PUBLIC_GTM_ID=your_google_tag_manager_id

# å¼€å‘æ¨¡å¼
NODE_ENV=development
```

### 4. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
```bash
npm run dev
# æˆ–
yarn dev
# æˆ–
pnpm dev
```

è®¿é—® `http://localhost:3000` æŸ¥çœ‹åº”ç”¨ã€‚

### 5. æ„å»ºæµ‹è¯•
```bash
npm run build
npm run start
```

---

## ğŸŒ ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

### æ„å»ºä¼˜åŒ–
```bash
# å®‰è£…ä¾èµ–
npm ci --only=production

# æ„å»ºé¡¹ç›®
npm run build

# å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
npm run start
```

### ç”Ÿäº§ç¯å¢ƒå˜é‡
```env
# ç”Ÿäº§ç¯å¢ƒé…ç½®
NODE_ENV=production
NEXT_PUBLIC_SITE_URL=https://yourdomain.com
NEXT_PUBLIC_SITE_NAME=Calculator Tools

# APIå¯†é’¥
EXCHANGE_RATE_API_KEY=your_production_api_key

# åˆ†æå·¥å…·
NEXT_PUBLIC_GA_ID=your_production_ga_id
NEXT_PUBLIC_GTM_ID=your_production_gtm_id

# å®‰å…¨é…ç½®
NEXTAUTH_SECRET=your_super_secret_key
NEXTAUTH_URL=https://yourdomain.com
```

---

## âš¡ Verceléƒ¨ç½² (æ¨è)

### æ–¹æ³•1: é€šè¿‡Vercel CLI
```bash
# å®‰è£…Vercel CLI
npm i -g vercel

# ç™»å½•Vercel
vercel login

# éƒ¨ç½²é¡¹ç›®
vercel

# ç”Ÿäº§éƒ¨ç½²
vercel --prod
```

### æ–¹æ³•2: é€šè¿‡GitHubé›†æˆ

1. **è¿æ¥GitHubä»“åº“**
   - è®¿é—® [vercel.com](https://vercel.com)
   - ç‚¹å‡» "New Project"
   - é€‰æ‹©ä½ çš„GitHubä»“åº“

2. **é…ç½®æ„å»ºè®¾ç½®**
   ```
   Framework Preset: Next.js
   Build Command: npm run build
   Output Directory: .next
   Install Command: npm install
   ```

3. **ç¯å¢ƒå˜é‡é…ç½®**
   åœ¨Vercel Dashboardä¸­æ·»åŠ ç¯å¢ƒå˜é‡ï¼š
   ```
   NEXT_PUBLIC_SITE_URL=https://your-app.vercel.app
   EXCHANGE_RATE_API_KEY=your_api_key
   ```

4. **è‡ªå®šä¹‰åŸŸå**
   - åœ¨Project Settings > Domainsä¸­æ·»åŠ è‡ªå®šä¹‰åŸŸå
   - é…ç½®DNSè®°å½•æŒ‡å‘Vercel

### Vercelé…ç½®æ–‡ä»¶ (vercel.json)
```json
{
  "version": 2,
  "builds": [
    {
      "src": "package.json",
      "use": "@vercel/next"
    }
  ],
  "routes": [
    {
      "src": "/(.*)",
      "dest": "/$1"
    }
  ],
  "env": {
    "NODE_ENV": "production"
  },
  "functions": {
    "app/**/*.js": {
      "maxDuration": 30
    }
  }
}
```

---

## ğŸŒ Netlifyéƒ¨ç½²

### 1. é€šè¿‡Netlify CLI
```bash
# å®‰è£…Netlify CLI
npm install -g netlify-cli

# ç™»å½•Netlify
netlify login

# æ„å»ºé¡¹ç›®
npm run build

# éƒ¨ç½²
netlify deploy --prod --dir=.next
```

### 2. é€šè¿‡Gité›†æˆ

1. **è¿æ¥ä»“åº“**
   - è®¿é—® [netlify.com](https://netlify.com)
   - ç‚¹å‡» "New site from Git"
   - é€‰æ‹©ä½ çš„ä»“åº“

2. **æ„å»ºé…ç½®**
   ```
   Build command: npm run build
   Publish directory: .next
   ```

### Netlifyé…ç½®æ–‡ä»¶ (netlify.toml)
```toml
[build]
  command = "npm run build"
  publish = ".next"

[build.environment]
  NODE_VERSION = "20"

[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200

[[headers]]
  for = "/*"
  [headers.values]
    X-Frame-Options = "DENY"
    X-XSS-Protection = "1; mode=block"
    X-Content-Type-Options = "nosniff"
```

---

## ğŸ³ Dockeréƒ¨ç½²

### Dockerfile
```dockerfile
# ä½¿ç”¨å®˜æ–¹Node.jsé•œåƒ
FROM node:20-alpine AS base

# å®‰è£…ä¾èµ–
FROM base AS deps
RUN apk add --no-cache libc6-compat
WORKDIR /app

COPY package.json package-lock.json* ./
RUN npm ci --only=production

# æ„å»ºåº”ç”¨
FROM base AS builder
WORKDIR /app
COPY --from=deps /app/node_modules ./node_modules
COPY . .

ENV NEXT_TELEMETRY_DISABLED 1
RUN npm run build

# ç”Ÿäº§é•œåƒ
FROM base AS runner
WORKDIR /app

ENV NODE_ENV production
ENV NEXT_TELEMETRY_DISABLED 1

RUN addgroup --system --gid 1001 nodejs
RUN adduser --system --uid 1001 nextjs

COPY --from=builder /app/public ./public
COPY --from=builder --chown=nextjs:nodejs /app/.next/standalone ./
COPY --from=builder --chown=nextjs:nodejs /app/.next/static ./.next/static

USER nextjs

EXPOSE 3000

ENV PORT 3000
ENV HOSTNAME "0.0.0.0"

CMD ["node", "server.js"]
```

### Docker Compose
```yaml
version: '3.8'
services:
  calculator-tools:
    build: .
    ports:
      - "3000:3000"
    environment:
      - NODE_ENV=production
      - NEXT_PUBLIC_SITE_URL=http://localhost:3000
    restart: unless-stopped
    volumes:
      - ./logs:/app/logs
```

### éƒ¨ç½²å‘½ä»¤
```bash
# æ„å»ºé•œåƒ
docker build -t calculator-tools .

# è¿è¡Œå®¹å™¨
docker run -p 3000:3000 calculator-tools

# ä½¿ç”¨Docker Compose
docker-compose up -d
```

---

## ğŸ” ç¯å¢ƒå˜é‡é…ç½®

### å¿…éœ€çš„ç¯å¢ƒå˜é‡
```env
# ç½‘ç«™åŸºç¡€ä¿¡æ¯
NEXT_PUBLIC_SITE_URL=https://yourdomain.com
NEXT_PUBLIC_SITE_NAME=Calculator Tools

# Nodeç¯å¢ƒ
NODE_ENV=production
```

### å¯é€‰çš„ç¯å¢ƒå˜é‡
```env
# è´§å¸è½¬æ¢API
EXCHANGE_RATE_API_KEY=your_api_key

# Google Analytics
NEXT_PUBLIC_GA_ID=G-XXXXXXXXXX

# Google Tag Manager
NEXT_PUBLIC_GTM_ID=GTM-XXXXXXX

# æœç´¢å¼•æ“
NEXT_PUBLIC_SEARCH_CONSOLE_ID=your_search_console_id

# ç¤¾äº¤åª’ä½“
NEXT_PUBLIC_FACEBOOK_APP_ID=your_facebook_app_id
NEXT_PUBLIC_TWITTER_HANDLE=@yourtwitterhandle
```

### APIå¯†é’¥è·å–æŒ‡å—

#### 1. Exchange Rate API
- è®¿é—® [exchangerate-api.com](https://exchangerate-api.com)
- æ³¨å†Œå…è´¹è´¦æˆ·
- è·å–APIå¯†é’¥
- å…è´¹è®¡åˆ’ï¼š1500æ¬¡è¯·æ±‚/æœˆ

#### 2. Google Analytics
- è®¿é—® [analytics.google.com](https://analytics.google.com)
- åˆ›å»ºæ–°çš„GA4å±æ€§
- è·å–æµ‹é‡ID (G-XXXXXXXXXX)

---

## ğŸŒ åŸŸåå’ŒSSLé…ç½®

### åŸŸåé…ç½®

#### Vercel
1. åœ¨Project Settings > Domainsæ·»åŠ åŸŸå
2. é…ç½®DNSè®°å½•ï¼š
   ```
   Type: CNAME
   Name: www (æˆ– @)
   Value: cname.vercel-dns.com
   ```

#### Netlify
1. åœ¨Site Settings > Domain managementæ·»åŠ åŸŸå
2. é…ç½®DNSè®°å½•ï¼š
   ```
   Type: CNAME
   Name: www
   Value: your-site.netlify.app
   ```

### SSLè¯ä¹¦
- **Vercel**: è‡ªåŠ¨æä¾›å…è´¹SSLè¯ä¹¦
- **Netlify**: è‡ªåŠ¨æä¾›Let's Encryptè¯ä¹¦
- **è‡ªå®šä¹‰**: å¯ä¸Šä¼ è‡ªå·±çš„SSLè¯ä¹¦

---

## âš¡ æ€§èƒ½ä¼˜åŒ–

### 1. æ„å»ºä¼˜åŒ–
```javascript
// next.config.js
/** @type {import('next').NextConfig} */
const nextConfig = {
  // å¯ç”¨å®éªŒæ€§åŠŸèƒ½
  experimental: {
    appDir: true,
  },
  
  // å›¾ç‰‡ä¼˜åŒ–
  images: {
    domains: ['yourdomain.com'],
    formats: ['image/webp', 'image/avif'],
  },
  
  // å‹ç¼©
  compress: true,
  
  // é™æ€å¯¼å‡ºä¼˜åŒ–
  output: 'standalone',
  
  // åˆ†æåŒ…å¤§å°
  webpack: (config, { dev, isServer }) => {
    if (!dev && !isServer) {
      config.optimization.splitChunks.chunks = 'all';
    }
    return config;
  },
}

module.exports = nextConfig;
```

### 2. ç¼“å­˜ç­–ç•¥
```javascript
// åœ¨headersä¸­è®¾ç½®ç¼“å­˜
const headers = async () => {
  return [
    {
      source: '/(.*)',
      headers: [
        {
          key: 'Cache-Control',
          value: 'public, max-age=31536000, immutable',
        },
      ],
    },
  ];
};
```

### 3. ä»£ç åˆ†å‰²
```javascript
// åŠ¨æ€å¯¼å…¥ç»„ä»¶
import dynamic from 'next/dynamic';

const Calculator = dynamic(() => import('./Calculator'), {
  loading: () => <p>Loading...</p>,
  ssr: false
});
```

---

## ğŸ“Š ç›‘æ§å’Œç»´æŠ¤

### 1. æ€§èƒ½ç›‘æ§
```javascript
// æ·»åŠ æ€§èƒ½ç›‘æ§
export function reportWebVitals(metric) {
  if (metric.label === 'web-vital') {
    console.log(metric);
    // å‘é€åˆ°åˆ†ææœåŠ¡
    gtag('event', metric.name, {
      value: Math.round(metric.value),
      event_label: metric.id,
    });
  }
}
```

### 2. é”™è¯¯ç›‘æ§
```javascript
// å…¨å±€é”™è¯¯å¤„ç†
window.addEventListener('error', (event) => {
  console.error('Global error:', event.error);
  // å‘é€é”™è¯¯æŠ¥å‘Š
});

window.addEventListener('unhandledrejection', (event) => {
  console.error('Unhandled promise rejection:', event.reason);
  // å‘é€é”™è¯¯æŠ¥å‘Š
});
```

### 3. å¥åº·æ£€æŸ¥
åˆ›å»º `pages/api/health.js`:
```javascript
export default function handler(req, res) {
  res.status(200).json({
    status: 'OK',
    timestamp: new Date().toISOString(),
    version: process.env.npm_package_version,
  });
}
```

### 4. æ—¥å¿—è®°å½•
```javascript
// ç®€å•çš„æ—¥å¿—ç³»ç»Ÿ
const log = {
  info: (message) => console.log(`[INFO] ${new Date().toISOString()}: ${message}`),
  error: (message) => console.error(`[ERROR] ${new Date().toISOString()}: ${message}`),
  warn: (message) => console.warn(`[WARN] ${new Date().toISOString()}: ${message}`),
};
```

---

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. æ„å»ºå¤±è´¥
```bash
# æ¸…ç†ç¼“å­˜
rm -rf .next
rm -rf node_modules
npm install
npm run build
```

#### 2. ç¯å¢ƒå˜é‡æœªç”Ÿæ•ˆ
- ç¡®ä¿å˜é‡åä»¥ `NEXT_PUBLIC_` å¼€å¤´ï¼ˆå®¢æˆ·ç«¯å˜é‡ï¼‰
- é‡å¯å¼€å‘æœåŠ¡å™¨
- æ£€æŸ¥ `.env.local` æ–‡ä»¶ä½ç½®

#### 3. é™æ€èµ„æº404
```javascript
// next.config.js
const nextConfig = {
  assetPrefix: process.env.NODE_ENV === 'production' ? '/your-app' : '',
  basePath: process.env.NODE_ENV === 'production' ? '/your-app' : '',
}
```

#### 4. å†…å­˜ä¸è¶³
```bash
# å¢åŠ Node.jså†…å­˜é™åˆ¶
NODE_OPTIONS="--max-old-space-size=4096" npm run build
```

#### 5. APIè·¯ç”±é—®é¢˜
```javascript
// æ£€æŸ¥APIè·¯ç”±æ–‡ä»¶ä½ç½®
// åº”è¯¥åœ¨ app/api/ ç›®å½•ä¸‹
// æ–‡ä»¶ååº”è¯¥æ˜¯ route.js æˆ– route.ts
```

### è°ƒè¯•æŠ€å·§

#### 1. å¼€å¯è¯¦ç»†æ—¥å¿—
```bash
DEBUG=* npm run dev
```

#### 2. åˆ†æåŒ…å¤§å°
```bash
npm install --save-dev @next/bundle-analyzer
```

```javascript
// next.config.js
const withBundleAnalyzer = require('@next/bundle-analyzer')({
  enabled: process.env.ANALYZE === 'true',
});

module.exports = withBundleAnalyzer(nextConfig);
```

```bash
ANALYZE=true npm run build
```

#### 3. æ€§èƒ½åˆ†æ
```bash
npm run build -- --profile
```

---

## ğŸ“š éƒ¨ç½²æ£€æŸ¥æ¸…å•

### éƒ¨ç½²å‰æ£€æŸ¥
- [ ] æ‰€æœ‰ç¯å¢ƒå˜é‡å·²é…ç½®
- [ ] æ„å»ºæˆåŠŸæ— é”™è¯¯
- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡
- [ ] SEOå…ƒæ•°æ®å®Œæ•´
- [ ] å›¾ç‰‡å·²ä¼˜åŒ–
- [ ] æ— æ§åˆ¶å°é”™è¯¯

### éƒ¨ç½²åæ£€æŸ¥
- [ ] ç½‘ç«™å¯æ­£å¸¸è®¿é—®
- [ ] æ‰€æœ‰é¡µé¢åŠ è½½æ­£å¸¸
- [ ] è®¡ç®—å™¨åŠŸèƒ½æ­£å¸¸
- [ ] ç§»åŠ¨ç«¯é€‚é…è‰¯å¥½
- [ ] SSLè¯ä¹¦æœ‰æ•ˆ
- [ ] æ€§èƒ½æŒ‡æ ‡è¾¾æ ‡

### æ€§èƒ½ç›®æ ‡
- [ ] Lighthouse Performance > 90
- [ ] First Contentful Paint < 1.5s
- [ ] Largest Contentful Paint < 2.5s
- [ ] Cumulative Layout Shift < 0.1

---

## ğŸ†˜ æŠ€æœ¯æ”¯æŒ

### è·å–å¸®åŠ©
- **æ–‡æ¡£**: [Next.jså®˜æ–¹æ–‡æ¡£](https://nextjs.org/docs)
- **ç¤¾åŒº**: [Next.js GitHub](https://github.com/vercel/next.js)
- **éƒ¨ç½²å¹³å°**: 
  - [Vercelæ–‡æ¡£](https://vercel.com/docs)
  - [Netlifyæ–‡æ¡£](https://docs.netlify.com)

### è”ç³»æ–¹å¼
- **é¡¹ç›®ç»´æŠ¤è€…**: [æ‚¨çš„è”ç³»æ–¹å¼]
- **æŠ€æœ¯æ”¯æŒ**: [æ”¯æŒé‚®ç®±]
- **BugæŠ¥å‘Š**: [GitHub Issuesé“¾æ¥]

---

## ğŸ“ æ›´æ–°æ—¥å¿—

### v1.0.0 (2024-11-13)
- âœ… åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- âœ… 68ä¸ªè®¡ç®—å™¨å®Œæˆ
- âœ… SEOä¼˜åŒ–å®Œæˆ
- âœ… å“åº”å¼è®¾è®¡
- âœ… éƒ¨ç½²æŒ‡å—å®Œæˆ

---

**ğŸ‰ æ­å–œï¼æ‚¨å·²æˆåŠŸéƒ¨ç½²Calculator Toolsé¡¹ç›®ï¼**

å¦‚æœ‰ä»»ä½•é—®é¢˜ï¼Œè¯·å‚è€ƒæ•…éšœæ’é™¤éƒ¨åˆ†æˆ–è”ç³»æŠ€æœ¯æ”¯æŒã€‚
